report_comment: >
  This report has been generated by the <a href="https://github.com/nf-core/mag" target="_blank">nf-core/mag</a>
  analysis pipeline. For information about how to interpret these results, please see the
  <a href="https://nf-co.re/mag" target="_blank">documentation</a>.
report_section_order:
  "nf-core-mag-methods-description":
    order: -1000
  software_versions:
    order: -1001
  "nf-core-mag-summary":
    order: -1002

export_plots: true

data_format: "yaml"

run_modules:
  - fastqc
  - fastp
  - adapterRemoval
  - custom_content
  - bowtie2
  - busco
  - quast
  - kraken
  - bcftools
  - prokka

top_modules:
  - "fastqc":
      name: "FastQC: raw reads"
      path_filters_exclude:
        - "*trimmed*"
  - "fastp"
  - "adapterRemoval"
  - "fastqc":
      name: "FastQC: after preprocessing"
      info: "After trimming and, if requested, contamination removal."
      path_filters:
        - "*trimmed*"
  - "bowtie2":
      name: "Bowtie2: PhiX removal"
      info: "Mapping statistics of reads mapped against PhiX and subsequently removed."
      path_filters:
        - "*_phix_removed.bowtie2.log"
  - "bowtie2":
      name: "Bowtie2: host removal"
      info: "Mapping statistics of reads mapped against host genome and subsequently removed."
      path_filters:
        - "*_host_removed.bowtie2.log"
  - "bowtie2":
      name: "Bowtie2: assembly"
      info: "Mapping statistics of reads mapped against assemblies."
      path_filters:
        - "*.bowtie2.log"
  - "kraken":
      name: "Kraken2"
      anchor: "Kraken2"
      target: "Kraken2"
      doi: "10.1101/gr.210641.116"
      path_filters:
        - "*.kraken2_report.txt"
  - "kraken":
      name: "Centrifuge"
      anchor: "centrifuge"
      target: "Centrifuge"
      doi: "10.1101/gr.210641.116"
      info: "is a very rapid and memory-efficient system for the classification of DNA sequences from microbial samples. The system uses a novel indexing scheme based on the Burrows-Wheeler transform (BWT) and the Ferragina-Manzini (FM) index. Note: Figure title"
      extra: "ℹ️: plot title will say Kraken2 due to Centrifuge producing the same output format as Kraken. If activated, see the actual Kraken2 results in the section above."
      path_filters:
        - "*.centrifuge_kreport.txt"
  - "porechop"
  - "bcftools"
  - custom_content
  - "busco":
      info: "assesses genome assembly and annotation completeness with Benchmarking Universal Single-Copy Orthologs. In case BUSCO's automated lineage selection was used, only generic results for the selected domain are shown and only for genome bins and kept, unbinned contigs for which the BUSCO analysis was successfull, i.e. not for contigs for which no BUSCO genes could be found. Bins for which a specific virus lineage was selected are also not shown."
  - "quast"
  - "prokka"

custom_data:
  host_removal:
    file_format: "tsv"
    section_name: "Bowtie 2: host read removal"
    description: "Reads are mapped against the host reference sequence. Only reads that do not align (concordantly) are kept for further analysis."
    plot_type: "bargraph"
    pconfig:
      id: "host_removal_bargraph"
      title: "Bowtie 2: reads mapped against host reference"
      ylab: "# Reads"

sp:
  host_removal:
    fn: "host_removal_metrics.tsv"
  adapterRemoval:
    fn: "*_ar2.settings"
  kraken:
    fn_re: ".*[kraken2|centrifuge].*report.txt"

extra_fn_clean_exts:
  - ".bowtie2"
  - "_ar2"

custom_logo: "nf-core-mag_logo_light.png"
custom_logo_url: https://github.com/nf-core/mag/
custom_logo_title: "nf-core/mag"

## Tool specific configuration
prokka_fn_snames: True
